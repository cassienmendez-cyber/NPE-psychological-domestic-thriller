system:
  name: "Narrative Physics Engine"
  version: "1.0"
  purpose: "Generate 40-chapter psychological domestic thrillers"

book_structure:
  total_chapters: 40
  sequences: 8
  sequence_mapping:
    sequence_1:
      chapters: [1, 2, 3, 4, 5]
      name: "Normal / Calm Before Storm"
      tension_range: "10-20%"
    sequence_2:
      chapters: [6, 7, 8, 9, 10]
      name: "Inciting Unease / First Disturbance"
      tension_range: "20-35%"
    sequence_3:
      chapters: [11, 12, 13, 14, 15]
      name: "Denial / Maintain Normalcy"
      tension_range: "35-45%"
    sequence_4:
      chapters: [16, 17, 18, 19, 20]
      name: "Growing Pressure / Secrets Open Up"
      tension_range: "45-60%"
      ends_with: "MIDPOINT TWIST #1"
    sequence_5:
      chapters: [21, 22, 23, 24, 25]
      name: "Crisis / Midpoint Shift"
      tension_range: "60-75%"
    sequence_6:
      chapters: [26, 27, 28, 29, 30]
      name: "Descent into Chaos / Unraveling"
      tension_range: "75-85%"
    sequence_7:
      chapters: [31, 32, 33, 34, 35, 36, 37]
      name: "Climax / Final Confrontation"
      tension_range: "85-100%"
      contains: "ACT III REVEAL (Twist #2)"
    sequence_8:
      chapters: [38, 39, 40]
      name: "Aftermath / Fallout / New Reality"
      tension_range: "falling action"
      ends_with: "EPILOGUE STING (Twist #3 - optional)"

  chapter_requirements:
    end_every_chapter_with: ["hook", "reveal", "question", "escalation"]
    complications_every: "2-3 chapters"
    clues_minimum: 12
    red_herrings_minimum: 3

pov_system:
  structures:
    single:
      description: "One POV character throughout"
      chapter_distribution: "all 40 chapters"
    dual:
      description: "Two POV characters alternating"
      primary_percentage: "60-70% (24-28 chapters)"
      secondary_percentage: "30-40% (12-16 chapters)"
      distributions:
        "70/30":
          primary: 28
          secondary: 12
        "65/35":
          primary: 26
          secondary: 14
        "60/40":
          primary: 24
          secondary: 16

  voices:
    first_person:
      strengths: "immediate intimacy, unreliable narrator potential"
      best_for: "anxious protagonists, paranoid narrators, trapped characters"
    third_person_limited:
      strengths: "flexibility, dramatic irony, easier dual POV"
      best_for: "complex plots, multiple suspects"
    third_person_close:
      strengths: "intimate yet flexible"
      best_for: "psychological depth with maneuverability"

setting_system:
  mode: "flexible"
  user_options:
    - create_custom_setting: true
    - select_from_library: true
    - let_ai_generate: true

  components:
    location_type: ["suburban", "urban", "rural-isolated", "small-town", "coastal", "mountain", "desert"]
    dwelling_type: ["single-family-home", "apartment-building", "lake-house", "gated-community", "condo-complex", "compound-estate"]
    community_structure: ["tight-knit-neighborhood", "transient-community", "exclusive-enclave", "college-town", "tourist-destination"]
    atmospheric_elements: ["isolation", "claustrophobia", "voyeuristic-proximity", "forced-intimacy", "inescapable-surveillance"]
    time_period: ["contemporary (2020-2025)", "recent-past (2010-2019)", "early-2000s (2000-2009)"]
    season: ["winter", "spring", "summer", "fall"]

library_selection:
  modes:
    auto:
      description: "AI randomly selects all elements from library"
      ensure_compatibility: true
      bias_toward: "psychological_domestic_thriller"
    manual:
      description: "User explicitly chooses all elements"
      ai_fills_gaps: false
    hybrid:
      description: "User specifies some elements, AI fills rest"
      user_specifies: "any subset"
      ai_fills: "remaining elements"
      compatibility_check: true

  element_counts:
    protagonist_archetypes: 1
    antagonist_archetypes: 1
    secondary_characters: "3-6"
    tropes: "2-5"
    relationship_dynamics: "1-2"
    secrets_per_character: "1-3"
    plot_modules: "as needed per sequence"

automation:
  workflow: "full_automation_until_final_review"
  checkpoints:
    premise_generation: "generate 3-5 options, user selects"
    midpoint_review: "chapter 20 (automated)"
    final_review: "chapter 40 (automated)"
    humanization_pass: "after final review (automated)"

  user_intervention: "acquisition_editor_at_end_only"

output:
  format: "markdown"
  deliverables:
    - "complete_40_chapter_manuscript"
    - "story_bible"
    - "story_state_tracker"
    - "character_profiles"
    - "clue_payoff_tracker"
    - "revision_history"
